async function fetchUserData() {
    const email = document.getElementById("emailInput").value;
    const name = document.getElementById("nameInput").value.toUpperCase();
    
    if (!email || !name) {
        alert("Veuillez entrer votre email et votre nom.");
        return;
    }

    const queryUrl = `${apiUrl}?E-mail=${encodeURIComponent(email)}&NOM=${encodeURIComponent(name)}`;
    console.log("Requête API envoyée à : ", queryUrl);

    try {
        const response = await fetch(queryUrl);
        console.log("Statut de la réponse : ", response.status);

        const data = await response.json();
        console.log("Données reçues : ", data);

        if (data.length === 0) {
            alert("Aucune correspondance trouvée. Veuillez vérifier vos informations.");
            return;
        }

        displayUserData(data[0]);
    } catch (error) {
        console.error("Erreur lors de la récupération des données :", error);
        alert("Erreur de communication avec le serveur. Veuillez réessayer plus tard.");
    }
}
